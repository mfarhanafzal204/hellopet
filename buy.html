<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Hello Pet - Premium Pet Shampoo | WhatsApp Order</title>
    <meta name="description" content="Order Hello Pet Premium Pet Shampoo via WhatsApp. Fast delivery across Pakistan. Safe and secure ordering.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" href="assets/brand logo.PNG">
    
    <!-- Open Graph Tags -->
    <meta property="og:title" content="Order Hello Pet - Premium Pet Shampoo">
    <meta property="og:description" content="Premium Menthol Fresh Pet Shampoo - Safe, Gentle & Effective">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://hellopet.com/buy">
    
    <!-- Bootstrap 5.3 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- FontAwesome 6 CDN -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Global Navbar -->
    <nav class="navbar navbar-expand-lg fixed-top glassmorphism-nav">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="index.html">
                <img src="assets/brand logo.PNG" alt="Hello Pet Logo" class="navbar-logo-large" onerror="console.log('Navbar logo failed to load'); this.style.display='none';" onload="console.log('Navbar logo loaded successfully');">
            </a>
            
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="fas fa-bars text-white"></i>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#benefits">Benefits</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#how-it-works">How It Works</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link btn-cta ms-2 active" href="buy.html">Buy Now</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                    <li class="nav-item ms-2">
                        <button class="theme-toggle-btn" id="themeToggle" title="Toggle Dark/Light Mode">
                            <div class="theme-toggle-track">
                                <div class="theme-toggle-thumb">
                                    <i class="fas fa-sun sun-icon"></i>
                                    <i class="fas fa-moon moon-icon"></i>
                                </div>
                            </div>
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Main Order Page -->
    <main class="buy-page">
        <div class="container-fluid p-0">
            <div class="row g-0 min-vh-100">
                
                <!-- Product Section - Left Side -->
                <div class="col-lg-6 product-section">
                    <div class="product-container">
                        <div class="product-image-wrapper">
                            <img src="assets/bottle front.PNG" alt="Hello Pet Premium Shampoo" class="product-image">
                        </div>
                        <div class="product-info">
                            <h1 class="product-title">Hello Pet Premium Shampoo</h1>
                            <p class="product-subtitle">Menthol Fresh Formula ‚Ä¢ 220ml / 7.4 FL OZ</p>
                            <div class="price-display">
                                <span class="price">PKR 1,199</span>
                                <span class="delivery-note">Free delivery in major cities</span>
                            </div>
                            
                            <!-- Trust Indicators moved here -->
                            <div class="product-trust-indicators">
                                <div class="trust-grid-product">
                                    <div class="trust-item-product">
                                        <div class="trust-icon-product">
                                            <i class="fas fa-truck"></i>
                                        </div>
                                        <div class="trust-content-product">
                                            <h6>Free Delivery</h6>
                                            <p>Major cities</p>
                                        </div>
                                    </div>
                                    <div class="trust-item-product">
                                        <div class="trust-icon-product">
                                            <i class="fas fa-money-bill-wave"></i>
                                        </div>
                                        <div class="trust-content-product">
                                            <h6>Cash on Delivery</h6>
                                            <p>Pay when received</p>
                                        </div>
                                    </div>
                                    <div class="trust-item-product">
                                        <div class="trust-icon-product">
                                            <i class="fas fa-undo"></i>
                                        </div>
                                        <div class="trust-content-product">
                                            <h6>Easy Returns</h6>
                                            <p>7-day return policy</p>
                                        </div>
                                    </div>
                                    <div class="trust-item-product">
                                        <div class="trust-icon-product">
                                            <i class="fas fa-certificate"></i>
                                        </div>
                                        <div class="trust-content-product">
                                            <h6>Quality Assured</h6>
                                            <p>Vet approved</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Form Section - Right Side -->
                <div class="col-lg-6 form-section">
                    <div class="form-wrapper">
                        <div class="form-header">
                            <h2>Place Your Order</h2>
                            <p>Fill the form below and we'll contact you via WhatsApp</p>
                        </div>

                        <form id="orderForm" class="order-form">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label for="customerName" class="form-label">
                                        <i class="fas fa-user"></i>Full Name *
                                    </label>
                                    <input type="text" class="form-control" id="customerName" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="customerPhone" class="form-label">
                                        <i class="fas fa-phone"></i>Phone Number *
                                    </label>
                                    <input type="tel" class="form-control" id="customerPhone" placeholder="03xxxxxxxxx" required>
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="customerAddress" class="form-label">
                                        <i class="fas fa-map-marker-alt"></i>Complete Address *
                                    </label>
                                    <textarea class="form-control" id="customerAddress" rows="3" placeholder="House/Flat No, Street, Area" required></textarea>
                                </div>
                                
                                <div class="form-group">
                                    <label for="customerCity" class="form-label">
                                        <i class="fas fa-city"></i>City *
                                    </label>
                                    <select class="form-select" id="customerCity" required>
                                        <option value="">Select City</option>
                                        <option value="Karachi">Karachi</option>
                                        <option value="Lahore">Lahore</option>
                                        <option value="Islamabad">Islamabad</option>
                                        <option value="Rawalpindi">Rawalpindi</option>
                                        <option value="Faisalabad">Faisalabad</option>
                                        <option value="Multan">Multan</option>
                                        <option value="Peshawar">Peshawar</option>
                                        <option value="Quetta">Quetta</option>
                                        <option value="Sialkot">Sialkot</option>
                                        <option value="Gujranwala">Gujranwala</option>
                                        <option value="Other">Other City</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="quantity" class="form-label">
                                        <i class="fas fa-shopping-cart"></i>Quantity *
                                    </label>
                                    <select class="form-select" id="quantity" required>
                                        <option value="">Select Quantity</option>
                                        <option value="1">1 Bottle - PKR 1,199</option>
                                        <option value="2">2 Bottles - PKR 2,299</option>
                                        <option value="3">3 Bottles - PKR 3,399</option>
                                        <option value="5">5 Bottles - PKR 5,499 (Save PKR 496!)</option>
                                        <option value="10">10 Bottles - PKR 10,499 (Save PKR 1,491!)</option>
                                    </select>
                                </div>
                                
                                <div class="form-group full-width">
                                    <label for="specialInstructions" class="form-label">
                                        <i class="fas fa-comment"></i>Special Instructions (Optional)
                                    </label>
                                    <textarea class="form-control" id="specialInstructions" rows="2" placeholder="Any special delivery instructions or questions"></textarea>
                                </div>
                            </div>

                            <!-- Order Summary -->
                            <div class="order-summary">
                                <h5>Order Summary</h5>
                                <div class="summary-row">
                                    <span>Product:</span>
                                    <span>Hello Pet Shampoo (220ml)</span>
                                </div>
                                <div class="summary-row">
                                    <span>Quantity:</span>
                                    <span id="summaryQuantity">-</span>
                                </div>
                                <div class="summary-row">
                                    <span>Subtotal:</span>
                                    <span id="summarySubtotal">PKR 0</span>
                                </div>
                                <div class="summary-row">
                                    <span>Delivery:</span>
                                    <span class="free-text">FREE</span>
                                </div>
                                <div class="summary-row total-row">
                                    <span>Total:</span>
                                    <span id="summaryTotal">PKR 0</span>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <button type="submit" class="submit-btn">
                                <i class="fas fa-shopping-cart"></i>
                                Place Order
                            </button>
                            
                            <p class="security-note">
                                <i class="fas fa-shield-alt"></i>
                                Secure ordering ‚Ä¢ Cash on Delivery available
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="footer-brand">
                        <img src="assets/brand logo.PNG" alt="Hello Pet Logo" class="footer-logo-large" onerror="console.log('Footer logo failed to load'); this.style.display='none';" onload="console.log('Footer logo loaded successfully');">
                        <h3 class="footer-brand-name">Hello Pet</h3>
                        <p class="footer-tagline">Pakistan's 1st Luxury Pet Care Brand</p>
                        <p class="footer-description">Premium pet care products for healthier, happier pets. Trusted by thousands of pet parents across Pakistan.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 mb-4">
                    <div class="footer-info">
                        <h4 class="footer-heading">Quick Links</h4>
                        <ul class="footer-links">
                            <li><a href="index.html">Home</a></li>
                            <li><a href="index.html#benefits">Benefits</a></li>
                            <li><a href="index.html#how-it-works">How It Works</a></li>
                            <li><a href="buy.html">Order Now</a></li>
                            <li><a href="contact.html">Contact Us</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 col-md-12 mb-4">
                    <div class="footer-contact">
                        <h4 class="footer-heading">Connect With Us</h4>
                        <div class="social-links-large">
                            <a href="https://www.instagram.com/hellopetltd" target="_blank" class="social-link">
                                <i class="fab fa-instagram"></i>
                                <span>Follow on Instagram</span>
                            </a>
                            <a href="https://wa.me/923236010067" target="_blank" class="social-link">
                                <i class="fab fa-whatsapp"></i>
                                <span>Chat on WhatsApp</span>
                            </a>
                        </div>
                        <div class="footer-contact-info">
                            <p><i class="fas fa-phone me-2"></i>+92 323 6010067</p>
                            <p><i class="fas fa-envelope me-2"></i>hello@hellopet.pk</p>
                        </div>
                    </div>
                </div>
            </div>
            <hr class="footer-divider">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="footer-copyright">¬© 2024 Hello Pet. All rights reserved. | Made with ‚ù§Ô∏è for Pet Parents</p>
                </div>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Floating Button -->
    <div class="whatsapp-float">
        <a href="https://wa.me/923236010067?text=Hi! I need help with my order" target="_blank" class="whatsapp-btn">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <!-- Chatbot Toggle -->
    <div class="chatbot-toggle">
        <button class="chatbot-btn" onclick="toggleChatbot()">
            <i class="fas fa-comments"></i>
        </button>
    </div>

    <!-- Chatbot Widget -->
    <div class="chatbot-widget" id="chatbotWidget">
        <div class="chatbot-header">
            <div class="chatbot-header-content">
                <div class="chatbot-avatar">
                    <i class="fas fa-paw"></i>
                </div>
                <div class="chatbot-info">
                    <h5>Hello Pet Assistant</h5>
                    <div class="chatbot-status">
                        <div class="status-indicator"></div>
                        Online & Ready to Help
                    </div>
                </div>
            </div>
            <div class="chatbot-controls">
                <button class="voice-btn" title="Voice Input">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="speaker-btn" title="Text to Speech">
                    <i class="fas fa-volume-up"></i>
                </button>
                <button onclick="toggleChatbot()" class="btn-close-chat" title="Close Chat">
                    <i class="fas fa-times"></i>
                </button>
            </div>
        </div>
        <div class="chatbot-body">
            <!-- Messages will be dynamically added here -->
        </div>
        <div class="chatbot-input-area">
            <input type="text" class="chatbot-input" placeholder="Type your message or use voice..." id="chatbotInput" maxlength="500">
            <div class="chatbot-input-controls">
                <button class="chatbot-voice-btn" id="voiceBtn" title="Voice message">
                    <i class="fas fa-microphone"></i>
                </button>
                <button class="chatbot-send-btn" id="sendBtn" title="Send message">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
            <div class="voice-recording-indicator" id="recordingIndicator">
                <div class="recording-dot"></div>
                <span>Recording...</span>
            </div>
        </div>
    </div>

    <!-- Voice Permission Modal -->
    <div class="voice-permission-modal" id="voicePermissionModal">
        <div class="voice-permission-content">
            <div class="voice-permission-icon">
                <i class="fas fa-microphone"></i>
            </div>
            <h3>Enable Voice Messages</h3>
            <p>Hello Pet would like to access your microphone to enable voice messages. This will make chatting easier and more natural.</p>
            <div class="voice-permission-buttons">
                <button class="voice-permission-btn primary" id="allowVoiceBtn">
                    <i class="fas fa-check me-2"></i>Allow
                </button>
                <button class="voice-permission-btn secondary" id="denyVoiceBtn">
                    <i class="fas fa-times me-2"></i>Not Now
                </button>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- GSAP Animation Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Custom Scripts -->
    <script src="js/simple-app.js"></script>
    <script src="js/chatbot.js"></script>
    <script src="js/theme-manager.js"></script>
    <script src="js/app.js"></script>
    
    <script>
        // Order Form Logic - Working WhatsApp Integration
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.getElementById('orderForm');
            const quantitySelect = document.getElementById('quantity');
            const summaryQuantity = document.getElementById('summaryQuantity');
            const summarySubtotal = document.getElementById('summarySubtotal');
            const summaryTotal = document.getElementById('summaryTotal');

            // Updated Price mapping - PKR 1,199 base price
            const prices = {
                '1': 1199,
                '2': 2299,
                '3': 3399,
                '5': 5499,
                '10': 10499
            };

            // Update order summary
            quantitySelect.addEventListener('change', function() {
                const qty = this.value;
                if (qty && prices[qty]) {
                    summaryQuantity.textContent = qty + ' bottle(s)';
                    summarySubtotal.textContent = 'PKR ' + prices[qty].toLocaleString();
                    summaryTotal.textContent = 'PKR ' + prices[qty].toLocaleString();
                } else {
                    summaryQuantity.textContent = '-';
                    summarySubtotal.textContent = 'PKR 0';
                    summaryTotal.textContent = 'PKR 0';
                }
            });

            // Form submission with Formspree email integration
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Get and validate form data
                const name = document.getElementById('customerName').value.trim();
                const phone = document.getElementById('customerPhone').value.trim();
                const address = document.getElementById('customerAddress').value.trim();
                const city = document.getElementById('customerCity').value;
                const qty = document.getElementById('quantity').value;
                const instructions = document.getElementById('specialInstructions').value.trim();

                // Validate required fields
                if (!name || !phone || !address || !city || !qty) {
                    alert('‚ùå Please fill in all required fields.');
                    return;
                }

                // Validate phone number (Pakistani mobile format)
                const phoneRegex = /^(\+92|0)?3[0-9]{9}$/;
                if (!phoneRegex.test(phone.replace(/\s+/g, ''))) {
                    alert('‚ùå Please enter a valid Pakistani mobile number (e.g., 03xxxxxxxxx)');
                    return;
                }

                // Show loading state
                const submitBtn = document.querySelector('.submit-btn');
                const originalText = submitBtn.innerHTML;
                submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending Order...';
                submitBtn.disabled = true;

                // Prepare order data for email
                const orderData = {
                    customer_name: name,
                    phone_number: phone,
                    complete_address: address,
                    city: city,
                    quantity: qty,
                    unit_price: 'PKR 1,199',
                    total_amount: `PKR ${prices[qty].toLocaleString()}`,
                    special_instructions: instructions || 'None',
                    order_date: new Date().toLocaleString('en-PK', {
                        timeZone: 'Asia/Karachi',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    }),
                    product_name: 'Hello Pet Premium Shampoo (220ml)',
                    delivery: 'FREE',
                    payment_method: 'Cash on Delivery'
                };

                // Send to Formspree (replace with your actual Formspree endpoint)
                fetch('https://formspree.io/f/xrebnnba', {
                    method: 'POST',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(orderData)
                })
                .then(response => {
                    if (response.ok) {
                        // Success - reset button and show thank you message
                        submitBtn.innerHTML = originalText;
                        submitBtn.disabled = false;
                        
                        // Show thank you message
                        showThankYouMessage(name, qty, prices[qty]);
                        
                        // Reset form
                        form.reset();
                        summaryQuantity.textContent = '-';
                        summarySubtotal.textContent = 'PKR 0';
                        summaryTotal.textContent = 'PKR 0';
                        
                    } else {
                        throw new Error('Network response was not ok');
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    
                    // Reset button
                    submitBtn.innerHTML = originalText;
                    submitBtn.disabled = false;
                    
                    // Show error message
                    alert('‚ùå Sorry, there was an error sending your order. Please try again or contact us directly at +92 323 6010067');
                });
            });

            // Thank you message function
            function showThankYouMessage(customerName, quantity, totalPrice) {
                // Create thank you overlay
                const overlay = document.createElement('div');
                overlay.className = 'success-overlay';
                overlay.innerHTML = `
                    <div class="success-modal">
                        <div class="success-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h2>Thank You ${customerName}!</h2>
                        <p class="thank-you-message">
                            Your order for <strong>${quantity} bottle(s)</strong> of Hello Pet Premium Shampoo 
                            has been received successfully!
                        </p>
                        <div class="best-wishes">
                            <h3>üêæ Best Wishes from Hello Pet Family! üêæ</h3>
                            <p>We're excited to help make your pet healthier and happier!</p>
                        </div>
                        <div class="order-confirmation">
                            <div class="confirmation-item">
                                <i class="fas fa-check-circle"></i>
                                <span>Order sent to Hello Pet team</span>
                            </div>
                            <div class="confirmation-item">
                                <i class="fas fa-envelope"></i>
                                <span>Confirmation email processing</span>
                            </div>
                        </div>
                        <div class="next-steps">
                            <h4>What happens next?</h4>
                            <ul>
                                <li><i class="fas fa-phone"></i> We'll contact you within 2 hours to confirm</li>
                                <li><i class="fas fa-truck"></i> Free delivery within 24-48 hours</li>
                                <li><i class="fas fa-money-bill-wave"></i> Pay cash on delivery</li>
                                <li><i class="fas fa-gift"></i> Enjoy your pet's transformation!</li>
                            </ul>
                        </div>
                        <button class="close-success-btn" onclick="closeThankYouMessage()">
                            <i class="fas fa-shopping-cart"></i> Place Another Order
                        </button>
                        <p class="contact-info">
                            Questions? WhatsApp us: <a href="https://wa.me/923236010067" target="_blank">+92 323 6010067</a>
                        </p>
                    </div>
                `;
                
                document.body.appendChild(overlay);
                
                // Animate in
                setTimeout(() => {
                    overlay.classList.add('show');
                }, 100);
            }

            // Close thank you message function
            window.closeThankYouMessage = function() {
                const overlay = document.querySelector('.success-overlay');
                if (overlay) {
                    overlay.classList.remove('show');
                    setTimeout(() => {
                        document.body.removeChild(overlay);
                    }, 300);
                }
            };

            // Add form validation styling
            form.addEventListener('input', function(e) {
                if (e.target.checkValidity()) {
                    e.target.classList.remove('is-invalid');
                    e.target.classList.add('is-valid');
                } else {
                    e.target.classList.remove('is-valid');
                    e.target.classList.add('is-invalid');
                }
            });
        });

        // Page initialization without preloader
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Buy page loaded successfully');
        });
    </script>
</body>
</html>